#!/bin/bash

# dataset filenames
filename=(
saylr3
sherman1
collins_15NN
G54
G53
G52
G51
G47
tub1000
G46
G45
G44
G43
olm1000
dwt_1005
email-Eu-core-temporal
email-Eu-core
dwt_1007
lshp1009
jagmesh2
cage8
spaceStation_5
circuit204
Roget
delaunay_n10
S20PI_n1
M20PI_n1
orsirr_1
stufe
rajat04
radfr1
msc01050
can_1054
SmaGri
can_1072
bcsstm08
bcsstk08
lock1074
mice_10NN
cnae9_10NN
sherman2
bcsstm09
bcsstk09
bcsstm10
bcsstk10
b2_ss
b_dyn
jagmesh3
tols1090
GD96_a
sherman4
gre_1107
spaceStation_6
email
spaceStation_7
1138_bus
jagmesh7
jagmesh8
spaceStation_8
rajat19
ex32
eris1176
jagmesh5
spaceStation_9
cavity08
cavity09
cavity06
S20PI_n
Goodwin_010
M20PI_n
cavity05
cavity07
fpga_dcop_32
fpga_dcop_48
fpga_dcop_31
fpga_dcop_30
fpga_dcop_29
fpga_dcop_28
fpga_dcop_49
fpga_dcop_27
fpga_dcop_26
fpga_dcop_25
fpga_dcop_50
fpga_dcop_24
fpga_dcop_23
fpga_dcop_22
fpga_dcop_21
fpga_dcop_20
fpga_dcop_51
fpga_dcop_19
fpga_dcop_18
fpga_dcop_17
fpga_dcop_16
fpga_dcop_15
fpga_dcop_14
fpga_dcop_13
fpga_dcop_12
fpga_dcop_11
fpga_dcop_10
fpga_dcop_09
fpga_dcop_08
fpga_dcop_07
fpga_dcop_06
fpga_dcop_05
fpga_dcop_04
fpga_trans_01
fpga_trans_02
fpga_dcop_44
fpga_dcop_45
fpga_dcop_43
fpga_dcop_42
fpga_dcop_41
fpga_dcop_40
fpga_dcop_39
fpga_dcop_38
fpga_dcop_46
fpga_dcop_37
fpga_dcop_36
fpga_dcop_35
fpga_dcop_34
fpga_dcop_47
fpga_dcop_33
fpga_dcop_03
fpga_dcop_02
fpga_dcop_01
bcsstk27
bcsstm27
pores_2
dwt_1242
rdb1250l
rdb1250
mahindas
cz1268
lshp1270
spaceStation_10
mhd1280a
mhd1280b
plbuckle
freeFlyingRobot_2
coater1
jagmesh9
rail_1357
spaceStation_11
nnc1374
jagmesh6
Binaryalphadigs_10NN
ex23
spaceStation_12
spaceShuttleEntry_2
spiral
msc01440
jagmesh4
bcspwr06
bcsstm11
bcsstk11
bcsstk12
bcsstm12
lhr01
yeast_30NN
qh1484
polblogs
comsol
west1505
mycielskian11
GD06_Java
reorientation_2
lshp1561
netscience
dynamicSoaringProblem_2
semeion_10NN
plantstexture_10NN
Plants_10NN
plantsmargin_12NN
ex4
bcspwr07
spaceStation_13
bcspwr08
ex7
spaceStation_14
hangGlider_2
lung1
ex6
filter2D
utm1700b
freeFlyingRobot_3
bcspwr09
ex33
epb0
bcsstk14
adder_dcop_26
adder_dcop_25
adder_dcop_24
adder_dcop_23
adder_dcop_22
adder_dcop_21
adder_dcop_20
adder_dcop_19
adder_dcop_18
adder_dcop_17
adder_dcop_16
adder_dcop_15
adder_dcop_14
adder_dcop_13
adder_dcop_12
adder_dcop_11
adder_dcop_10
adder_dcop_09
adder_dcop_08
adder_dcop_07
adder_dcop_06
adder_dcop_05
adder_dcop_04
adder_dcop_02
adder_dcop_01
adder_dcop_69
adder_dcop_03
adder_dcop_53
adder_dcop_64
adder_dcop_63
adder_dcop_62
adder_dcop_61
adder_dcop_60
adder_dcop_66
adder_dcop_67
adder_dcop_68
adder_dcop_59
adder_dcop_58
adder_dcop_57
adder_dcop_56
adder_dcop_55
adder_dcop_54
adder_dcop_52
adder_dcop_51
adder_dcop_50
adder_dcop_49
adder_dcop_48
adder_dcop_47
adder_dcop_46
adder_dcop_45
adder_dcop_44
adder_dcop_43
adder_dcop_42
adder_dcop_41
adder_dcop_40
adder_dcop_39
adder_dcop_38
adder_dcop_37
adder_dcop_36
adder_dcop_35
adder_dcop_34
adder_dcop_33
adder_dcop_32
adder_dcop_31
adder_dcop_30
adder_dcop_29
adder_dcop_28
adder_dcop_27
adder_dcop_65
init_adder1
adder_trans_02
adder_trans_01
ex3
nasa1824
nasa1824
spaceShuttleEntry_3
watt_1
watt_2
ukerbe1_dual
rajat12
lshp1882
CSphd
CollegeMsg
CAG_mat1916
plsk1919
plat1919
bcsstk26
bcsstm26
rajat02
netz4504
Goodwin_013
G30
G29
G28
G27
G26
G25
G24
dataset16mfeatkarhunen_10NN
bwm2000
G22
dataset18mfeatmorphological_10NN
dataset20mfeatpixel_10NN
Trefethen_2000
G42
G41
dataset22mfeatzernike_10NN
G23
G40
G39
G38
G37
G36
G35
tols2000
G34
G33
G32
G31
olm2000
dataset12mfeatfactors_10NN
bcsstk13
bcsstm13
west2021
piston
S40PI_n1
M40PI_n1
rdb2048_noL
dw1024
delaunay_n11
dw2048
rdb2048
kineticBatchReactor_1
Chebyshev2
NotreDame_yeast
blckhole
TS
nasa2146
ex26
c-18
S40PI_n
M40PI_n
ex20
orsreg_1
lock2232
lshp2233
ex24
Sieber
lowThrust_2
c-19
heart3
heart2
freeFlyingRobot_4
yeast
add20
rdist3a
ex10
YaleB_10NN
MISKnowledgeMap
spaceShuttleEntry_4
TSOPF_FS_b9_c1
cryg2500
LeGresley_2508
reorientation_3
orani678
qc2534
Chem97ZtZ
cz2548
ex10hs
diag
ex13
cavity15
cavity10
cavity13
cavity11
cavity14
cavity12
EX3
EX4
ex28
lshp2614
circuit_1
minnesota
dwt_2680
reorientation_4
cegb2802
extr1b
extr1
data
ex29
dynamicSoaringProblem_3
zenios
freeFlyingRobot_5
g7jac010
g7jac010sc
wang1
wang2
reorientation_5
meg1
ODLIS
nasa2910
nasa2910
cegb2919
c-20
lhr02
pde2961
G50
G48
G49
iprob
laser
reorientation_6
bayer08
bayer06
cegb3024
lshp3025
reorientation_7
utm3060
mycielskian12
conf5_0-4x4-22
conf5_0-4x4-18
conf5_0-4x4-10
conf5_0-4x4-14
conf6_0-4x4-30
conf6_0-4x4-20
conf5_0-4x4-26
ex36
bayer09
SciMet
ex8
reorientation_8
bcsstk23
bcsstm23
grid2_dual
psmigr_3
psmigr_2
psmigr_1
swang2
swang1
garon1
dynamicSoaringProblem_4
rdist2
mhd3200a
rdb3200l
mhd3200b
bibd_81_2
raefsky1
raefsky2
ex14
bayer05
bayer07
dynamicSoaringProblem_5
grid2
cegb3306
sherman5
Goodwin_017
sstmodel
freeFlyingRobot_6
ex9
raefsky6
dynamicSoaringProblem_6
shermanACa
thermal
lshp3466
lock3491
c-21
dynamicSoaringProblem_7
cage9
dynamicSoaringProblem_8
heart1
bcsstk24
bcsstm24
saylr4
ex37
bcsstm21
bcsstk21
soc-sign-bitcoin-alpha
c-22
c-25
ex31
freeFlyingRobot_7
lnsp3937
lns_3937
bcsstk15
c-23
ex12
tols4000
ACTIVSg2000
poli
S80PI_n1
M80PI_n1
delaunay_n12
sts4098
Chebyshev3
lhr04c
lhr04
c-24
rdist1
S80PI_n
M80PI_n
airfoil1
t2dal_e
t2dal_a
t2dal_bci
t2dal
c-26
viscoplastic1
struct4
kineticBatchReactor_2
freeFlyingRobot_8
bcsstk28
Kohonen
circuit_2
msc04515
cavity18
cavity16
cavity17
cavity19
cavity20
cavity21
cavity22
cavity23
cavity24
cavity25
cavity26
c-27
c-28
nasa4704
nasa4704
3elt
shyy41
EPA
freeFlyingRobot_9
mhd4800b
mhd4800a
uk
crystk01
crystm01
bcsstk16
LeGresley_4908
gemat11
gemat12
USpowerGrid
power
add32
olm5000
G59
G58
G57
G56
G55
rdb5000
sherman3
fxm3_6
c-29
SiH4
kineticBatchReactor_3
cz5108
rw5151
rail_5177
freeFlyingRobot_10
ca-GrQc
bcspwr10
hydr1
hydr1c
c-30
c-31
s3rmt3m3
g3rmt3m3
TSOPF_RS_b162_c1
freeFlyingRobot_11
Erdos972
s3rmt3m1
s1rmq4m1
s1rmt3m1
s2rmq4m1
s2rmt3m1
s3rmq4m1
t520
freeFlyingRobot_12
optdigits_10NN
freeFlyingRobot_13
SiNa
ex18
Erdos982
Na5
g7jac020sc
g7jac020
meg4
soc-sign-bitcoin-otc
utm5940
Hamrle2
freeFlyingRobot_14
mplate
c-32
man_5976
ukerbe1
exdata_1
Goodwin_023
barth4
barth4
freeFlyingRobot_15
freeFlyingRobot_16
Erdos992
shermanACd
mycielskian13
Alemdar
p2p-Gnutella08
raefsky5
c-33
n3c6-b7
c-35
EX5
EX6
c-34
barth
barth
bayer03
Zewail
jan99jac020
jan99jac020sc
rajat01
ex15
Erdos02
G64
G60
G61
G63
G62
cell1
cell2
lowThrust_3
Muu
Kuu
kineticBatchReactor_4
bips98_606
TSOPF_RS_b9_c6
eurqsa
goodwin
lhr07c
lhr07
geom
c-36
sinc12
fd12
fp
rajat13
rajat03
kineticBatchReactor_5
as-735
ex40
kineticBatchReactor_6
commanche_dual
kineticBatchReactor_7
GT01R
G65
bcsstm38
bcsstk38
airfoil1_dual
kineticBatchReactor_8
Pd
p2p-Gnutella09
kineticBatchReactor_9
c-38
TSC_OPF_1047
aft02
dw4096
delaunay_n13
dw8192
c-37
aft01
benzene
windtunnel_evap2d
wiki-Vote
hep-th
EVA
p2p-Gnutella06
bcsstk33
Kaufhold
Lederberg
p2p-Gnutella05
G66
nd3k
3elt_dual
graham1
mark3jac020
mark3jac020sc
indianpines_10NN
vsp_data_and_seymourl
c-39
nemeth26
nemeth16
nemeth17
nemeth18
nemeth19
nemeth20
nemeth21
nemeth22
nemeth23
nemeth24
nemeth25
nemeth13
nemeth12
nemeth11
nemeth10
nemeth09
nemeth08
nemeth07
nemeth06
nemeth05
nemeth04
nemeth03
nemeth02
nemeth01
nemeth15
nemeth14
net25
coater2
fv1
California
flowmeter0
flowmeter5
pf2177
bips98_1142
c-41
TSC_OPF_300
whitaker3
t2d_q4
fv3
t2d_q9
fv2
ca-HepTh
wb-cs-stanford
c-40
JapaneseVowelsSmall_10NN
)

######### group name
group=(
HB
HB
ML_Graph
Gset
Gset
Gset
Gset
Gset
Bai
Gset
Gset
Gset
Gset
Bai
HB
SNAP
SNAP
HB
HB
HB
vanHeukelum
VDOL
YZhou
Pajek
DIMACS10
Rommes
Rommes
HB
AG-Monien
Rajat
Zitney
Boeing
HB
Pajek
HB
HB
HB
HB
ML_Graph
ML_Graph
HB
HB
HB
HB
HB
Grund
Grund
HB
Bai
Pajek
HB
HB
VDOL
Arenas
VDOL
HB
HB
HB
VDOL
Rajat
FIDAP
HB
HB
VDOL
DRIVCAV
DRIVCAV
DRIVCAV
Rommes
Goodwin
Rommes
DRIVCAV
DRIVCAV
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
HB
HB
HB
HB
Bai
Bai
HB
CPM
HB
VDOL
Bai
Bai
TKK
VDOL
Brethour
HB
Oberwolfach
VDOL
HB
HB
ML_Graph
FIDAP
VDOL
VDOL
Oberwolfach
Boeing
HB
HB
HB
HB
HB
HB
Mallya
ML_Graph
Bai
Newman
Langemyr
HB
Mycielski
Pajek
VDOL
HB
Newman
VDOL
ML_Graph
ML_Graph
ML_Graph
ML_Graph
FIDAP
HB
VDOL
HB
FIDAP
VDOL
VDOL
Norris
FIDAP
Oberwolfach
TOKAMAK
VDOL
HB
FIDAP
Averous
HB
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
Sandia
FIDAP
Nasa
Boeing
VDOL
HB
HB
AG-Monien
Rajat
HB
Pajek
SNAP
JGD_CAG
HB
HB
HB
HB
Rajat
AG-Monien
Goodwin
Gset
Gset
Gset
Gset
Gset
Gset
Gset
ML_Graph
Bai
Gset
ML_Graph
ML_Graph
JGD_Trefethen
Gset
Gset
ML_Graph
Gset
Gset
Gset
Gset
Gset
Gset
Gset
Bai
Gset
Gset
Gset
Gset
Bai
ML_Graph
HB
HB
HB
Oberwolfach
Rommes
Rommes
Bai
Bai
DIMACS10
Bai
Bai
VDOL
Muite
Barabasi
HB
MathWorks
Nasa
FIDAP
Schenk_IBMNA
Rommes
Rommes
FIDAP
HB
HB
HB
FIDAP
MathWorks
VDOL
Schenk_IBMNA
Norris
Norris
VDOL
Pajek
Hamm
Zitney
FIDAP
ML_Graph
Moqri
VDOL
TSOPF
Bai
LeGresley
VDOL
HB
Bai
Bates
CPM
FIDAP
AG-Monien
FIDAP
DRIVCAV
DRIVCAV
DRIVCAV
DRIVCAV
DRIVCAV
DRIVCAV
JGD_SPG
JGD_SPG
FIDAP
HB
Bomhof
Gleich
HB
VDOL
HB
Zitney
Zitney
DIMACS10
FIDAP
VDOL
HB
VDOL
Hollinger
Hollinger
Wang
Wang
VDOL
Grund
Pajek
Boeing
Nasa
HB
Schenk_IBMNA
Mallya
Bai
Gset
Gset
Gset
Meszaros
GHS_indef
VDOL
Grund
Grund
HB
HB
VDOL
TOKAMAK
Mycielski
QCD
QCD
QCD
QCD
QCD
QCD
QCD
FIDAP
Grund
Pajek
FIDAP
VDOL
HB
HB
AG-Monien
HB
HB
HB
Wang
Wang
Garon
VDOL
Zitney
Bai
Bai
Bai
JGD_BIBD
Simon
Simon
FIDAP
Grund
Grund
VDOL
AG-Monien
HB
HB
Goodwin
HB
VDOL
FIDAP
Simon
VDOL
Shen
Brunetiere
HB
HB
Schenk_IBMNA
VDOL
vanHeukelum
VDOL
Norris
HB
HB
HB
FIDAP
HB
HB
SNAP
Schenk_IBMNA
Schenk_IBMNA
FIDAP
VDOL
HB
HB
HB
Schenk_IBMNA
FIDAP
Bai
TAMU_SmartGridCenter
Grund
Rommes
Rommes
DIMACS10
Cannizzo
Muite
Mallya
Mallya
Schenk_IBMNA
Zitney
Rommes
Rommes
AG-Monien
Oberwolfach
Oberwolfach
Oberwolfach
Oberwolfach
Schenk_IBMNA
Quaglino
Rothberg
VDOL
VDOL
HB
Pajek
Bomhof
Boeing
DRIVCAV
DRIVCAV
DRIVCAV
DRIVCAV
DRIVCAV
DRIVCAV
DRIVCAV
DRIVCAV
DRIVCAV
DRIVCAV
DRIVCAV
Schenk_IBMNA
Schenk_IBMNA
Nasa
Boeing
AG-Monien
Shyy
Pajek
VDOL
Bai
Bai
DIMACS10
Boeing
Boeing
HB
LeGresley
HB
HB
Pajek
Newman
Hamm
Bai
Gset
Gset
Gset
Gset
Gset
Bai
HB
Andrianov
Schenk_IBMNA
PARSEC
VDOL
CPM
Bai
Oberwolfach
VDOL
SNAP
HB
Zitney
Zitney
Schenk_IBMNA
Schenk_IBMNA
Cylshell
TKK
TSOPF
VDOL
Pajek
Cylshell
Cylshell
Cylshell
Cylshell
Cylshell
Cylshell
TKK
VDOL
ML_Graph
VDOL
PARSEC
FIDAP
Pajek
PARSEC
Hollinger
Hollinger
Grund
SNAP
TOKAMAK
Hamrle
VDOL
Cote
Schenk_IBMNA
HB
AG-Monien
GHS_indef
Goodwin
Nasa
Pothen
VDOL
VDOL
Pajek
Shen
Mycielski
Alemdar
SNAP
Simon
Schenk_IBMNA
JGD_Homology
Schenk_IBMNA
JGD_SPG
JGD_SPG
Schenk_IBMNA
Nasa
Pothen
Grund
Pajek
Hollinger
Hollinger
Rajat
FIDAP
Pajek
Gset
Gset
Gset
Gset
Gset
Lucifora
Lucifora
VDOL
MathWorks
MathWorks
VDOL
Rommes
TSOPF
Marini
Goodwin
Mallya
Mallya
Pajek
Schenk_IBMNA
Hohn
Hohn
MKS
Rajat
Rajat
VDOL
SNAP
FIDAP
VDOL
Pothen
VDOL
Fluorem
Gset
Boeing
Boeing
AG-Monien
VDOL
MathWorks
SNAP
VDOL
Schenk_IBMNA
IPSO
Okunbor
Bai
DIMACS10
Bai
Schenk_IBMNA
Okunbor
PARSEC
Grueninger
SNAP
Newman
Pajek
SNAP
HB
MathWorks
Pajek
SNAP
Gset
ND
AG-Monien
Graham
Hollinger
Hollinger
ML_Graph
DIMACS10
Schenk_IBMNA
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Nemeth
Andrianov
Brethour
Norris
Pajek
Oberwolfach
Oberwolfach
Andrianov
Rommes
Schenk_IBMNA
IPSO
AG-Monien
TKK
Norris
TKK
Norris
SNAP
Gleich
Schenk_IBMNA
ML_Graph
)

# suc=(
# 49
# 164
# 167
# 267
# 270
# 278
# 304
# 305
# 312
# 323
# 358
# 371
# 375
# 376
# 388
# 416
# 417
# 441
# 480
# 489
# 518
# 520
# 524
# 529
# 530
# 531
# 532
# 537
# 538
# 539
# 550
# 552
# 553
# 560
# 573
# 580
# 585
# 592
# 596
# 599
# 607
# 614
# 615
# 617
# 630
# 633
# 644
# 647
# 650
# 656
# 663
# 665
# 669
# 672
# 708
# 715
# 720
# )

TARGET_DIR="./eval_data"

if [ -d "$TARGET_DIR" ]; then
   echo "'$TARGET_DIR' found and now copying files, please wait ..."
else
   echo "Warning: '$TARGET_DIR' NOT found. Create it"
   mkdir $TARGET_DIR
fi

OUTPUT=paperdata/medium_V32N2M8.csv
rm -rf $OUTPUT
# rm -rf ${TARGET_DIR}/*

make clean && make spmm

for (( i=0; i<${#filename[@]}; i++ ));
# for i in "${suc[@]}"
do
echo "${group[$i]}/${filename[$i]}"
wget https://suitesparse-collection-website.herokuapp.com/MM/${group[$i]}/${filename[$i]}.tar.gz
tar zxvf ${filename[$i]}.tar.gz
mv ${filename[$i]}/${filename[$i]}.mtx ${TARGET_DIR}
rm -rf ${filename[$i]}.tar.gz
rm -rf ${filename[$i]}

echo "./spmm --mtxfile ${TARGET_DIR}/${filename[$i]}.mtx --outmtxfile outmtx/tmp.mtx --maxiter 10 --n 64 --sched 0 --v 32"
printf "${filename[$i]}, " >> ${OUTPUT}
./spmm --mtxfile ${TARGET_DIR}/${filename[$i]}.mtx --outmtxfile outmtx/tmp.mtx --maxiter 10 --n 64 --sched 0 --v 32 >> ${OUTPUT}

# echo >> $OUTPUT
rm -rf ${TARGET_DIR}/${filename[$i]}.mtx
done